"use strict";var status="JS - OK!",site=null;$(document).ready(function(){$("body")||console.log("jQuery Error"),function(){if($(".modal-custom").length){var t=$(".icon-popup"),e=$(".modal-custom"),n=e.find(".modal-custom__overlay"),l=e.find(".modal-custom__close-btn");t.click(function(){e.show()}),l.click(function(){e.hide()}),n.click(function(){e.hide()})}}(),function(){if($(".contact-us").length){var t=$(".contact-us"),e=$(".contact-us-modal"),n=e.find(".contact-us-overlay"),l=e.find(".modal-custom__close-btn");t.click(function(){e.addClass("active")}),l.click(function(){e.removeClass("active")}),n.click(function(){e.removeClass("active")})}}(),function(){if(document.documentElement.clientWidth<767){var t=$(".value");$(".drop-down .selected .sel").click(function(){$(".drop-down .options .ul").toggle(),$(this).toggleClass("active")}),$(".drop-down .options .ul .value").click(function(){t.show(),$(this).hide();var e=$(this).html();$(".drop-down .selected .sel").html(e),$(".modal-text").html(e),$(".drop-down .options .ul").hide(),$(".drop-down .selected .sel").toggleClass("active")}),$(document).on("click",function(t){$(t.target).parents().hasClass("drop-down")||$(".drop-down .options .ul").hide()})}}(),function(){if(document.documentElement.clientWidth>767){var t=$(".body-list-item"),e=$(".clear-items");e.hide(),0<t.length&&e.show()}}(),function(){if(document.documentElement.clientWidth>767){var t=$(".calculator-list-figure_img").find("img"),e=$(".set-img"),n=$(".calculator-forms-body").find("input");n.on("focus",function(){e.show(),t.hide();var n=$(this).data("img");e.html("<img src="+n+">")}),n.on("blur",function(){var t=$(".find-active_js .active").data("src");e.html("<img src="+t+">")})}}(),function(){var t=$(".calculator-list-forms input");$(".button-calculate");t.on("input",function(){var t=$(this).closest(".calculator-forms").find(".button-calculate"),e=$(this).closest(".calculator-forms").find(".disabled_js"),n=!0;$(this).closest(".calculator-forms").find("input").each(function(){0!=$(this).val()&&""!=$(this).val()||(n=!1)});1==n?(t.addClass("active"),e.removeAttr("disabled")):t.removeClass("active")})}(),function(){var t=$(".contact-us-contant-body input"),e=$(".form-contact-us_button"),n=$(".disabled_js");t.on("blur",function(){var l=!0;t.each(function(){0!=$(this).val()&&""!=$(this).val()||(l=!1)});1==l?(e.addClass("active"),n.removeAttr("disabled")):e.removeClass("active")})}(),site=function(t,e,n){n(t);var l=n(e),o=jQuery(e.body),a=n(".form--contact"),i=n(".contact-us-modal"),c=n(".calculator-forms"),s=(n(".button-calculate"),n(".result-body-list")),d=n(".result-body_total-data"),r=n(".result-header_data"),u=n(".clear-items"),h=n(".forms-button-another"),m=n(".calculator-list_right-block"),f=n(".button-mobile-hide-result"),v=n(".result-body"),p=n(".result-body_custom-overlay"),g=n(".calculator-list-figure_img").find("img"),b=(n(".disabled_js"),n(".value")),C=n(".calculator-forms"),$=n(".modal-img"),y=n(".set-img"),w=(n(".calculator-list-forms input"),n(".spinner--search-js")),S=n(".button-calculate__label"),_=n(".spinner--contact-js"),k=n(".button-contact__label"),R={initAjaxHeaders:function(){n.ajaxSetup({headers:{"X-CSRF-TOKEN":n('meta[name="csrf-token"]').attr("content")}})},resetForm:function(t){(t instanceof jQuery?t[0]:t).reset()},prepareFormData:function(t){var e=t.querySelectorAll("input"),n=t.querySelectorAll("select"),l=t.querySelectorAll("textarea"),o={};if(e.length)for(var a=0;a<e.length;a++)e[a].value&&(o[e[a].name]=e[a].value);if(n.length)for(var i=0;i<n.length;i++)n[i].value&&"placeholder"!=n[i].value&&(o[n[i].name]=n[i].value);if(l.length)for(var c=0;c<l.length;c++)l[c].value&&(o[l[c].name]=l[c].value);return o},handleResultHtml:function(t,e){R.addResultItemToList(t,e),R.handleCalculateTotalVolume()},addResultItemToList:function(t,e){var n='\n\t\t\t<div class="body-list-item">\n\t\t\t\t<div class="body-list_name">'+R.handleResultItemLabel(t)+'</div>\n\t\t\t\t<div class="body-list_value">\n\t\t\t\t<div class="result-value_data" data-value="6.57">'+e+'</div>\n\t\t\t\t<div class="value_replace-yd">yd <sup>3</sup></div>\n\t\t\t\t</div>\n\t\t\t\t<button class="body-list_btn-close"></button>\n\t\t\t</div>\n\t\t\t';s.append(n),R.handleShowClearAllBtn(),R.mobileResultShow()},handleShowClearAllBtn:function(){if(e.documentElement.clientWidth>767){var t=n(".body-list-item");u.hide(),t.length&&u.show()}},handleCalculateTotalVolume:function(){var t=s.find(".result-value_data"),e=0;t.each(function(t,l){var o=n(l).html().trim();e+=Number(o)}),d.text(e.toFixed(2)),r.text(e.toFixed(2))},handleResultItemLabel:function(t){switch(t){case"1":return"Slabs or Footings";case"2":return"Walls";case"3":return"Round Columns";default:return"Unknown id"}},handleDeleteResultItem:function(){o.on("click",".body-list_btn-close",function(){n(this).closest(".body-list-item").remove(),R.handleCalculateTotalVolume(),R.handleShowClearAllBtn()})},handleDeleteResults:function(){u.on("click",function(){n(".body-list-item").remove(),R.handleCalculateTotalVolume()})},handleCalc:function(){c.on("submit",function(e){e.preventDefault();var l=R.prepareFormData(this),o=l.category_id;n.ajax({type:"POST",url:t.location.origin+"/calculation",data:l}).done(function(t){console.log("res",t),R.handleResultHtml(o,t.data),R.hideSpinnerSearch()}).fail(function(t){R.hideSpinnerSearch(),console.log(t)}),R.showSpinnerSearch()})},handleClearForm:function(){h.on("click",function(){var t=n(this).closest("form");t.find(".button-calculate").removeClass("active"),R.resetForm(t)})},handleContactForm:function(){a.on("submit",function(e){e.preventDefault();var l=R.prepareFormData(this);console.log("data",l),n.ajax({type:"POST",url:t.location.origin+"/requests",data:l}).done(function(t){console.log("res",t),R.hideSpinnerContact(),i.removeClass("active")}).fail(function(t){R.hideSpinnerContact(),i.removeClass("active"),console.log(t)}),R.showSpinnerContact()})},showSpinnerSearch:function(){w.show(),S.hide()},hideSpinnerSearch:function(){w.hide(),S.show()},showSpinnerContact:function(){_.show(),k.hide()},hideSpinnerContact:function(){_.hide(),k.show()},handlePlaceholderInp:function(){var t=n(".js-inputWrapper");t.length&&t.each(function(){var t=n(this),e=t.find(".formRow--input"),l=e.attr("placeholder");e.after('<span class="placeholder">'+l+"</span>"),e.attr("placeholder",""),t.find(".placeholder"),e.val().length?t.addClass("active"):t.removeClass("active"),e.on("focusout",function(){e.val().length?t.addClass("active"):t.removeClass("active")}).on("focus",function(){t.addClass("active")})})},handleShowResultBlock:function(){e.documentElement.clientWidth<767&&(p.on("click",function(){m.toggleClass("active"),v.slideToggle("fast")}),f.on("click",function(){v.slideToggle("fast"),m.toggleClass("active")}))},handlerBtnDisabled:function(){b.on("click",function(){C.hide(),y.hide();var t=n(this);b.removeClass("active"),t.addClass("active");var e=t.data("id"),l=n("."+e);g.hide(),l.css("display","block");var o=l.attr("src");$.attr("src",o)})},mobileResultShow:function(){e.documentElement.clientWidth<767&&(v.show(),m.toggleClass("active"))},domReady:function(t){R.handlePlaceholderInp(),n('meta[name="csrf-token"]').length&&R.initAjaxHeaders(),c.length&&R.handleCalc(),s.length&&R.handleDeleteResultItem(),u.length&&R.handleDeleteResults(),a.length&&R.handleContactForm(),h.length&&R.handleClearForm(),f.length&&R.handleShowResultBlock(),b.length&&R.handlerBtnDisabled()}};return l.ready(R.domReady),R}(window,document,jQuery)}),window.onload=function(){};