"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var glob={navMenuWrapper:null,navMenu:null,pageOverlay:null,headerOverlay:null,searchOverlay:null,scrollTopButton:null,cityQuerytimer:null},globFunc={returnDOM:function(e){return e instanceof jQuery?e[0]:e},showOverlay:function(e,t,n){switch(e){case"popup":t.classList.contains("js_openPopup")||(t.style.zIndex=1150,t.style.visibility="visible",t.classList.add("js_openPopup"),t.classList.add("js_open"),n&&t.classList.add(n),document.body.classList.add("js_pageOverlayOpen"));break;case"menu":t.classList.contains("js_openMenu")||(t.style.zIndex=900,t.style.visibility="visible",t.classList.add("js_openMenu"),t.classList.add("js_open"),document.body.classList.add("js_pageOverlayOpen--menu"))}},hideOverlay:function(e,t,n){switch(e){case"popup":t.classList.contains("js_openPopup")&&(t.classList.remove("js_openPopup"),t.classList.remove("js_open"),n&&t.classList.remove(n),document.body.classList.remove("js_pageOverlayOpen"),setTimeout(function(){t.classList.contains("js_openPopup")||(t.style.zIndex=-10,t.style.visibility="hidden")},300));break;case"menu":t.classList.contains("js_openMenu")&&(t.classList.remove("js_openMenu"),t.classList.remove("js_open"),document.body.classList.remove("js_pageOverlayOpen--menu"),setTimeout(function(){t.classList.contains("js_openMenu")||(t.style.zIndex=-10,t.style.visibility="hidden")},300))}},toggleButtonContent:function(e,t){var n,o=this.returnDOM(e);t?n=t:e.dataset.text&&(n={default:e.dataset.text,active:e.dataset.textActive}),o.classList.contains("active")?(n&&(o.querySelector("span").innerHTML=n.default),o.classList.remove("active")):(n&&(o.querySelector("span").innerHTML=n.active),o.classList.add("active"))},animateBlock:function(e){var t=this;this.removeClassFrom(e,"js_animate"),setTimeout(function(){t.addClassTo(e,"js_animate")},50)},getCurrentYPosition:function(){return window.pageYOffset||document.documentElement.scrollTop},addClassTo:function(e,t){var n=this.returnDOM(e);n.classList.contains(t)||n.classList.add(t)},removeClassFrom:function(e,t){var n=this.returnDOM(e);n.classList.contains(t)&&n.classList.remove(t)},transitionHandler:function(e,t,n){e.propertyName&&console.log(e.propertyName),e.srcElement&&console.log(e.srcElement)},getChildsTotalWidth:function(e){for(var t=e.children,n=0,o=0;o<t.length;o++)n+=t[o].offsetWidth;return n},getCoordsOnPage:function(e){var t=this.returnDOM(e).getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset,bottom:t.bottom+pageYOffset}},getCoordsOnScreen:function(e){var t=this.returnDOM(e).getBoundingClientRect();return{top:t.top,left:t.left,bottom:t.bottom,right:t.right,width:t.width,height:t.height}},openWidth:function(e){e.style.width=getChildsTotalWidth(e)+"px"},collapseWidth:function(e){e.style.width="0"},isVisible:function(e,t){var n=void 0;n=t||"whole";var o=window.pageYOffset,i=document.documentElement.clientHeight,s=e.getBoundingClientRect().top+pageYOffset,a=s+e.offsetHeight;return"whole"==n?document.documentElement.clientWidth>991?a<=o+i&&s>=o:s<=o+i/2&&s>=o:"topBorder"==n?s>=o+130&&s<=o+i:"topBorderIn"==n?s<=o+i:void 0},isVisibleOnXAxis:function(e,t){var n=e.getBoundingClientRect().left>t.getBoundingClientRect().left,o=e.getBoundingClientRect().right<t.getBoundingClientRect().right;return n&&o},isLastChild:function(e){return!e.nextElementSibling},isFirstChild:function(e){return!e.previousElementSibling}},cite=null;$(document).ready(function(){document.getElementById("homePage")?document.getElementById("mainHeader").classList.add("home-page"):document.getElementById("mainHeader").classList.remove("home-page"),glob.ValidationModule=function(){function e(e,t){var n=t,o=[];function i(e){return!isNaN(parseFloat(e.value))&&isFinite(e.value)}function s(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e.value)}function a(e){var t=Number(e.dataset.minLength);return console.log(e.value.replace(/\s/g,"").length),!(e.value.replace(/\s/g,"").length<t)}function r(e){return e.checked}for(var l=0;l<n.length;l++)switch(n[l]){case"required":e.value.replace(/\s/g,"").length||o.push(e.dataset.errorText);break;case"isNumber":i(e)||o.push(e.dataset.errorText);break;case"isEmail":s(e)||o.push(e.dataset.errorText);break;case"length":a(e)||o.push(e.dataset.errorText);break;case"requiredRadio":r(e)||o.push(e.dataset.errorText);break;default:console.error("invalid input data-validate value")}return o.length?o:null}function t(e,t,n){e.classList.add("js_containsError");for(var o=$('<ul class="js_warning-list"></ul>'),i=0;i<t.length;i++){var s=$("<li></li>").text(t[i]);n&&s.css("color",n),o.append(s)}$(e).parent().hasClass("chosen-wrapper")?$(e).next().after(o):$(e).after(o)}return{isValid:function(n){for(var o=(n instanceof jQuery?n[0]:n).querySelectorAll("[data-validate]:not(:disabled)"),i=0,s=0;s<o.length;s++){var a=[],r=o[s].dataset.textColor;$(o[s]).removeClass("js_containsError"),$(o[s]).nextAll(".js_warning-list").remove();var l,c=!!o[s].dataset.validate&&o[s].dataset.validate.split(" ");if(o[s].value=o[s].value.trim(),(l=c||null).length){var u=e(o[s],l);u&&(a=u)}a.length&&(t(o[s],a,r),i++)}return!(i>0)}}}(),glob.PopupModule=function(){var e,t=document.getElementsByClassName("popup"),n=document.getElementById("pageOverlay");if(t.length)for(var o=function(e){t[e].addEventListener("transitionend",function(n){n.stopPropagation(),function(e,t){var n=globFunc.returnDOM(t);"transform"!=e.propertyName&&"opacity"!=e.propertyName||!n.classList.contains("js_animate")&&n.classList.remove("js_open")}(n,t[e])},!1)},i=0;i<t.length;i++)o(i);function s(e){var t=globFunc.returnDOM(e);t.classList.remove("js_animate"),t.classList.remove("js_open")}return $("body").on("click","#pageOverlay",function(n){if(globFunc.hideOverlay("popup",this,e),t)for(var o=0;o<t.length;o++)t[o].classList.contains("js_open")&&s(t[o])}),$("body").on("click","button.popupCloseButton",function(){s($(this).closest(".popup")),globFunc.hideOverlay("popup",n,e)}),$("body").on("mousedown",".popup",function(t){t.target.classList.contains("popup")&&(s(t.target),globFunc.hideOverlay("popup",n,e))}),window.onkeydown=function(o){if(27===o.keyCode&&(n&&n.classList.contains("js_open")&&globFunc.hideOverlay("popup",n,e),t))for(var i=0;i<t.length;i++)t[i].classList.contains("js_open")&&s(t[i])},{openPopup:function(t,o,i){var s=i||n,a=globFunc.returnDOM(t);a.classList.add("js_open"),a.classList.add("js_animate"),o?(e=o,globFunc.showOverlay("popup",s,o)):globFunc.showOverlay("popup",s)},closePopup:s}}(),glob.SwitchTabsModule=function(){document.querySelectorAll(".tabsNav .tabButton");var e=document.querySelector(".toggleBlocks-list"),t=document.querySelectorAll(".toggleBlock"),n=document.querySelectorAll(".tabsNav-secondary .tab"),o=document.querySelectorAll(".toggleBlock-secondary");function i(e,t,n){var o=e.dataset.target;if(!e.classList.contains("active"))for(var i=0;i<t.length;i++)n[i].classList.remove("active"),t[i].classList.remove("active"),o===t[i].id&&(e.classList.add("active"),t[i].classList.add("active"))}$(".tabsNav").on("click",".tabButton",function(){var n=document.getElementsByClassName(this.dataset.tabsGroup),o=this.parentElement.getElementsByClassName("tabButton"),s=this.parentElement.parentElement.getElementsByClassName(this.dataset.tabsContainer)[0];n.length?i(this,n,o):i(this,t,o),s?globFunc.animateBlock(s):globFunc.animateBlock(e)});for(var s=0;s<n.length;s++)n[s].onclick=function(e){var t,s;i(this,o,n),t=o,s=$(this).data("target"),$(t).each(function(e,t){var n=$(t),o=n.find("input, select");o.attr("disabled",!0),s===n.attr("id")&&o.attr("disabled",!1)})}}();var e=function(){function e(){_classCallCheck(this,e),this._hostUrl=window.location.origin,this._baseUrlCabinet=this._hostUrl+"/cabinet/",this._baseUrlDeliveries=this._hostUrl+"/deliveries/",this._baseUrlFavorite=this._hostUrl+"/",this._baseUrlStores=this._hostUrl+"/stores",this._baseUrlAutocomplete="/topSearch/"}return _createClass(e,[{key:"getResource",value:function(e){return axios.get(e)}},{key:"postResource",value:function(e){return axios.post(e)}},{key:"getNewPostDepartmentsById",value:function(e){var t=this._baseUrlCabinet+"addresses/get-np-warehouses/"+e;return this.getResource(t)}},{key:"getNewPostCitiesByQuery",value:function(e){var t=this._baseUrlDeliveries+"nova-poshta/get-cities?q="+e;return this.getResource(t)}},{key:"getNewPostDepartmentsByIdInCheckout",value:function(e){var t=this._baseUrlDeliveries+"nova-poshta/get-warehouses/"+e;return this.getResource(t)}},{key:"getPickupDepartmentsById",value:function(e){var t=this._baseUrlDeliveries+"pickup/get-stores/"+e;return this.getResource(t)}},{key:"postToggleFavorites",value:function(e){var t=this._baseUrlFavorite+"favorites/"+e+"/toggle";return this.postResource(t)}},{key:"getAllCitiesInOfficesPage",value:function(){var e=""+this._baseUrlStores;return this.getResource(e)}},{key:"getOfficesByCityId",value:function(e){var t=this._baseUrlStores+"?city="+e;return this.getResource(t)}},{key:"getAutocompleteData",value:function(e,t){var n=t?this._hostUrl+"/ru"+this._baseUrlAutocomplete+e:""+this._hostUrl+this._baseUrlAutocomplete+e;return this.getResource(n)}}]),e}();if(glob.navMenuWrapper=document.getElementById("navMenuWrapper"),glob.navMenu=document.getElementById("navMenu"),glob.pageOverlay=document.getElementById("pageOverlay"),glob.headerOverlay=document.getElementById("headerOverlay"),$("#burgerButton").on("click",function(){glob.navMenuWrapper.classList.add("js_showSlide"),globFunc.showOverlay("menu",glob.pageOverlay)}),$("#closeMenuButton, .navMenu__phone .button-contact-js").on("click",function(){glob.navMenuWrapper.classList.remove("js_showSlide");var e=glob.navMenuWrapper.getElementsByClassName("js_showSlide"),t=$(".menuButtonsContainer");$(".productsDropdownMenu_button").show();for(var n=0;n<e.length;n++)e[n].classList.remove("js_showSlide");t.hasClass("active")&&t.removeClass("active"),globFunc.hideOverlay("menu",glob.pageOverlay)}),$("#navMenu").on("click",".subMenuButton, .has-sub-menu",function(){var e=$(this),t=$(".menuButtonsContainer__title"),n=e.parent().find("a").first().text(),o=$(".productsDropdownMenu_button");if(window.innerWidth<1280){$(".has-sub-menu").attr("href","#");o.hide()}if(t.text(n),this.classList.contains("subMenuButton"))var i=this.nextElementSibling;else if(this.classList.contains("has-sub-menu"))i=this.nextElementSibling.nextElementSibling;Boolean(i)?!i.classList.contains("js_showSlide")&&i.classList.add("js_showSlide"):!(i=this.parentElement.nextElementSibling).classList.contains("js_showSlide")&&i.classList.add("js_showSlide");var s=$(".menuButtonsContainer");!s.hasClass("active")&&s.addClass("active")}),$("#prevMenuButton").on("click",function(){var e=$(".productsDropdownMenu_button"),t=glob.navMenuWrapper.getElementsByClassName("js_showSlide"),n=$(".menuButtonsContainer"),o=$(this);$(".menuButtonsContainer__title").text(o.data("title")),1==t.length&&e.show(),t.length&&t[t.length-1].classList.remove("js_showSlide"),t.length<1&&n.hasClass("active")&&n.removeClass("active")}),window.innerWidth>=1280&&($(".firstPartBlock .productsDropdownMenu_button").on("mouseenter",function(e){var t=$(this).next();t&&(globFunc.showOverlay("menu",glob.headerOverlay),t.css("height",t.children().first().outerHeight()+"px"),t.css("overflow","visible"),t.css("opacity","1"))}),$("#headerOverlay").hover(function(e){var t=$(".productsDropdownMenu_button").next();t.css("overflow","hidden"),t.css("height",0),t.css("opacity",0),globFunc.hideOverlay("menu",glob.headerOverlay)})),$(glob.headerOverlay).on("click",function(){$(".productsDropdownMenu_button").removeClass("active"),$(".productsDropdownMenu_button").next().css("height",0),$(".descBurgerIcon").removeClass("active"),globFunc.hideOverlay("menu",glob.headerOverlay)}),document.documentElement.clientWidth>1264&&!document.getElementById("homePage")){var t,n=0,o=glob.navMenu.getElementsByClassName("submenu");if(o.length){t=o[0];for(var i=0;i<o.length;i++){var s=o[i].offsetHeight;s>n&&(n=s)}t.style.height=n+"px"}}window.innerWidth<1280&&$(".mainHeader").on("click",".menu-button",function(e){globFunc.toggleButtonContent(this)}),$(".mainHeader").on("blur",".menu-button",function(){this.classList.contains("active")&&globFunc.toggleButtonContent(this)}),$("body").on("click",".searchButton",function(){var e=$("#popupSearch");e.length&&glob.PopupModule.openPopup(e,"js_openPopup_search")}),$("body").on("click",".button",function(){var e=document.getElementById("id");e&&glob.PopupModule.openPopup(e)}),$(".ellipsis").length&&($(".description .ellipsis").dotdotdot({height:80,truncate:"word",watch:!0}),$(".title.ellipsis").dotdotdot({height:85,truncate:"word",watch:!0}));var a=document.querySelectorAll(".description > p");if(a.length)for(i=0;i<a.length;i++)!a[i].innerHTML&&a[i].parentElement.removeChild(a[i]);cite=function(t,n,o){o(t);var i=o(n),s=jQuery(n.body),a={},r=o(".submenu .submenu"),l=(o(".visibleSubmenu_js"),o(".company-about-list")),c=o(".background-slider"),u=o(".slider-banner"),d=o(".slider-pageSection"),p=o(".stock-slider-pageSection"),h=o(".slider-brands"),g=o(".another-prod-slider"),f=o(".complects-sale-slider"),m=o(".prod-slider"),v=o(".prod-slider-nav"),b=o(".categories-nav-wrapper"),y=o(".initMobileSlickSlide"),w=o(".acc-wrapper"),C=o("#slider-range"),S=o('.form-item--price[name="from"]'),k=o('.form-item--price[name="to"]'),_=o(".price-submit"),T=o(".button-aside-show"),O=o(".aside-js"),B=O.find(".button-close"),M=o(".products"),L=o(".reset-filters"),x=o("#daySwitch, #daySwitchMob, #daySwitchHeaderMob"),A=o(".form-val-js"),F=o("input[type=tel]"),P=o(".chosen-wrapper  select"),j=o(".popupBasket"),I=o(".prod .prod-descr-wrap .button"),E=o(".gallery"),$=o(".scrollTopContainer"),D=o(".product-card__title").not(".product-card--small .product-card__title"),W=o(".ellipsis-text"),R=o(".ellipsis-text--medium"),N=o(".contacts-wrapper"),H=N.find(".button-close"),U=N.find("form"),q=o(".button-contact-js"),z=o(".np-city-js"),Q=o(".np-city-checkout-js"),Y=o(".np-department-js"),V=o(".tech-city-js"),G=o(".tech-store-js"),Z=o(".sticker--favorits"),X=o(".form-order-section--delivery input:checked"),J=o(".order__row--pointer"),K=o("#citiesSelect"),ee=o("#departmentsSelect"),te=o(".departments-list"),ne=o("#page-preloader-absolute"),oe=o(".spinner--catalog-js"),ie=o(".spinner--search-js"),se=o(".showPasswordButton"),ae=o(".btn_modal-message"),re=o(".btn_modal-callback"),le=o(".categories"),ce=le.find(".prod-category"),ue=o(".search-form input"),de=o(".search .button-close--in-input"),pe=o(".stock-card__descr"),he=o("#sortBySelector"),ge=null;a.settings={ellpsisText:"56px",ellpsisTextMobile:"44px",ellpsisTextSmall:"28px",ellpsisTextMedium:"34px",pathToDefaultImg:"/img/zaglushka.jpg",messages:{ru:{workTime:"Время работы",address:"Адрес",noOffices:"В данном городе нет отделений",searchByCategory:"Искать в категории",allCategories:"Все категории",allOffices:"Все отделения",pickCity:"Виберите город",noCities:"ничего не найдено"},uk:{workTime:"Час роботи",address:"Адреса",noOffices:"В даному місті немає відділень",searchByCategory:"Шукати в категорії",allCategories:"Усі категорії",allOffices:"Всі відділення",pickCity:"Виберіть город",noCities:"ничого не знайдено"}}};var fe=new e,me={initAjaxHeaders:function(){o.ajaxSetup()},isRuLang:function(){return"ru"===o("html").attr("lang")},setInnerSubmenusProdCategoryWidth:function(){r.each(function(e,t){var n=o(t),i=n.children().slice(-11),s=n.find(".prod-category").first(),a=s.length?s.offset().left:0,r=0;i.each(function(e,t){var n=o(t),i=n.offset().left+n.outerWidth();i>r&&(r=i)}),n.css({width:r-a+"px"})})},initBgSlider:function(){c.slick({arrows:!1,mobileFirst:!0,autoplay:!0,autoplaySpeed:5e3,responsive:[{breakpoint:991,settings:{dotsClass:"slick-dots slick-dots--horizontal"}},{breakpoint:1599,settings:{dotsClass:"slick-dots"}}]})},initBannerSlider:function(){u.slick({arrows:!0,dots:!0,autoplay:!0,autoplaySpeed:3e3,dotsClass:"slick-dots slick-dots--horizontal",prevArrow:'<button type="button" class="slick-prev"><i class="icomoon icon-arrow2"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="icomoon icon-arrow2"></i></button>'})},initPageSectionSliders:function(){d.each(function(){o(this).slick({arrows:!1,mobileFirst:!0,slidesToShow:2,autoplaySpeed:4e3,autoplay:!0,appendArrows:o(this).closest(".pageSection").find(".pageSection-arrows"),responsive:[{breakpoint:1200,settings:"unslick"}]})}).on("setPosition",function(e,t){t.$slides.css("height",t.$slideTrack.height()+"px")})},initMobileSlickCategory:function(){y.slick({arrows:!0,mobileFirst:!0,infinite:!0,prevArrow:'<button type="button" class="slick-next"><i class="icomoon icon-arrow2"></i></button>',nextArrow:'<button type="button" class="slick-prev"><i class="icomoon icon-arrow2"></i></button> ',slidesToShow:3,swipeToSlide:!0,slidesToScroll:1,responsive:[{breakpoint:1200,settings:{slidesToShow:6}}]})},initStockSlideSection:function(){p.slick({arrows:!0,mobileFirst:!0,prevArrow:'<button type="button" class="slick-prev"><i class="icomoon icon-arrow2"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="icomoon icon-arrow2"></i></button>',appendArrows:o(".stock_arrow_el"),slidesToShow:1,responsive:[{breakpoint:1200,settings:{slidesToShow:4}}]})},initAnotherProdSlider:function(){g.slick({arrows:!0,mobileFirst:!0,prevArrow:'<button type="button" class="slick-prev"><i class="icomoon icon-arrow2"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="icomoon icon-arrow2"></i></button>',slidesToShow:1,appendArrows:g.closest(".pageSection").find(".pageSection-arrows"),responsive:[{breakpoint:576,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:991,settings:{slidesToShow:6}}]}).on("setPosition",function(e,t){t.$slides.css("height",t.$slideTrack.height()+"px")})},initBrandsSlider:function(){var e=5,t=o(".slider-brands__item").length;e>t-1&&(e=t-1),h.slick({infinite:!0,arrows:!0,mobileFirst:!0,prevArrow:'<button type="button" class="slick-prev"><i class="icomoon icon-arrow2"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="icomoon icon-arrow2"></i></button>',slidesToShow:2,appendArrows:h.closest(".pageSection").find(".pageSection-arrows"),autoplay:!0,autoplaySpeed:3e3,responsive:[{breakpoint:576,settings:{slidesToShow:3}},{breakpoint:991,settings:{slidesToShow:e||5}},{breakpoint:1200,settings:{slidesToShow:e||8}}]})},initComplectsSaleSlider:function(){f.slick({arrows:!1,dots:!0,dotsClass:"slick-dots slick-dots--horizontal",mobileFirst:!0,prevArrow:'<button type="button" class="slick-prev"><i class="icomoon icon-arrow2"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="icomoon icon-arrow2"></i></button>',slidesToShow:1,autoplay:!0,autoplaySpeed:3e3,responsive:[{breakpoint:991,settings:{arrows:!0}}]})},initProdSliders:function(){m.slick({mobileFirst:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:'<button type="button" class="slick-prev"><i class="icomoon icon-arrow2"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="icomoon icon-arrow2"></i></button>',fade:!0,asNavFor:v,responsive:[{breakpoint:991,settings:{arrows:!1}}]}),v.slick({mobileFirst:!0,slidesToShow:2,slidesToScroll:1,arrows:!1,vertical:!0,asNavFor:m,focusOnSelect:!0,responsive:[{breakpoint:991,settings:{slidesToShow:3}}]})},initAccordion:function(){w.on("click",".acc-button",function(){var e=o(this).closest(".acc-item"),t=e.find(".acc-content");e.toggleClass("open"),t.slideToggle()})},onInputFromPrice:function(){S.on("change",function(){var e=o(this).val();C.slider("values",0,e),C.closest(".products-filter").addClass("changed"),_.attr("disabled",!1)})},onInputToPrice:function(){k.on("change",function(){var e=o(this).val();C.slider("values",1,e),C.closest(".products-filter").addClass("changed"),_.attr("disabled",!1)})},handlePriceSubmitBtn:function(){o(".products-filter--price").hasClass("changed")&&_.attr("disabled",!1)},onClickPriceSubmitBtn:function(){_.on("click",function(){me.saveWindowScrollYInLocalStorage(),me.handleFilters()})},initPriceSlider:function(){C.slider({range:!0,min:1,max:35e3,values:[1,35e3],slide:function(e,t){S.val(t.values[0]),k.val(t.values[1])}}),S.val(C.slider("values",0)),k.val(C.slider("values",1))},onPriceSliderChange:function(){C.on("slidechange",function(e,t){C.closest(".products-filter").addClass("changed"),_.attr("disabled",!1)})},openAside:function(){O.addClass("open")},closeAside:function(){O.removeClass("open")},onClickButtonShowAside:function(){T.on("click",function(){me.openAside()})},onClickButtonCloseAside:function(){B.on("click",function(){me.closeAside()})},handleChangeTheme:function(){x.on("change",function(e){var t=o(e.currentTarget).prop("checked");me.toggleTheme(),me.saveThemeInStorage(t)})},toggleTheme:function(){s.toggleClass("white-theme")},saveThemeInStorage:function(e){e?localStorage.setItem("theme","white"):localStorage.setItem("theme","dark")},setThemeOnLoadPage:function(){"white"===localStorage.getItem("theme")&&(s.addClass("white-theme"),x.prop("checked",!0))},handleValidationForms:function(){A.on("submit",function(e){e.preventDefault();var t=o(this),n=this.querySelector('button[type="submit"');glob.ValidationModule.isValid(t)?n&&(n.setAttribute("disabled",!0),this.submit()):t.hasClass("form-order")&&me.handleScrollToWarning(t)})},handleScrollToWarning:function(e){var t=e.find(".js_warning-list").first();t.length&&o("html, body").animate({scrollTop:t.offset().top-80})},initTelMask:function(){F.each(function(e,t){new Cleave(t,{prefix:"380",numericOnly:!0,blocks:[3,2,3,2,2],delimiters:[" "," "," "]})})},initChoosen:function(){for(var e=0;e<P.length;e++){var t={disable_search_threshold:8,width:"100%"};if(P[e].classList.contains("np-city-checkout-js")&&(t.disable_search=!0),o(P[e]).chosen(t),P[e].classList.contains("np-city-checkout-js")){var i=P[e].nextElementSibling.querySelector(".chosen-drop"),s=n.createElement("div");s.classList.add("chosen-search","custom-search"),s.innerHTML='<input class="chosen-search-input"\n\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\tautocomplete="off"\n\t\t\t\t\t\t\tplaceholder=\'почнiть вводити назву...\'\n\t\t\t\t\t\t>',s.oninput=me.handleNovaPochtaCityQueryInput,i.prepend(s)}(P[e].classList.contains("np-department-js")||P[e].classList.contains("tech-store-js"))&&(P[e].value||(P[e].parentElement.classList.add("chosen-disabled"),o(P[e]).prop("disabled",!0).trigger("chosen:updated")))}},handleSortBySelectChange:function(e){e.on("change",function(e){var t=e.target.value.split("=")[0],o=n.querySelector('.products-filters-small.sort-buttons > [data-alias="'+t+'"]');if(o){for(var i=o.parentElement.children,s=0;s<i.length;s++)i[s].classList.contains("active")&&i[s].classList.remove("active");o.classList.add("active")}me.handleFilters()})},handleNovaPochtaCityQueryInput:function(e){var t=e.target.value.trim();t.length>0&&(glob.cityQuerytimer&&clearTimeout(glob.cityQuerytimer),glob.cityQuerytimer=setTimeout(function(){glob.cityQuerytimer=null,me.handleCityQueryInputChange(t,fe.getNewPostCitiesByQuery,Q,"description_uk",!1)},500))},handleCityQueryInputChange:function(e,t,n,o,i){t.bind(fe)(e).then(function(e){var t=e.data;me.setNovaPostaCitiesDelivery(n,t,o,i)})},setNovaPostaCitiesDelivery:function(e,t,n,o){if(e.empty(),!t||!t.length)return e.append("<option>"+me.handleTranslationMessages("noCities")+"</option>"),void e.trigger("chosen:updated");me.appendCitiesToSelect(t,e,n,o),e.trigger("chosen:updated")},appendCitiesToSelect:function(e,t,n,o){e.map(function(e){var i=e[n]||e.description_uk||e.description_ru;t.append('<option data-id="'+e.ref+'" value="'+i+'">'+me.handleTranslationResponse(n,e,o)+"</option>")}),t.val("")},handleCitySelectChange:function(e,t,n,i,s){var a=t.bind(fe);e.on("change",function(e){var t=o(e.target).find(":selected").data("id");if(t){var r=null;a(t).then(function(e){r=e.data,me.setWarehousesOfAddressesDelivery(n,r,i,s)})}else me.setWarehousesOfAddressesDelivery(n,null,i,s)})},setWarehousesOfAddressesDelivery:function(e,t,n,o){if(e.empty(),!t||!t.length)return e.prop("disabled",!0),e.append("<option>"+me.handleTranslationMessages("noOffices")+"</option>"),void e.trigger("chosen:updated");e[0].parentElement.classList.remove("chosen-disabled"),e.prop("disabled",!1),me.appendWarehousesToSelect(t,e,n,o),e.trigger("chosen:updated")},appendWarehousesToSelect:function(e,t,n,o){e.map(function(e){var i=e.Description||e.address_uk;t.append('<option value="'+i+'">'+me.handleTranslationResponse(n,e,o)+"</option>")})},initPopupBasket:function(){I.on("click",function(){glob.PopupModule.openPopup(j)})},initColorbox:function(){E.colorbox({rel:"group1",opacity:"0.9",current:"",close:"",maxWidth:"90%",maxHeight:"100%",loop:!1})},goTop:function(e){o("html, body").animate({scrollTop:0},400)},showScrollBtn:function(){o(this).scrollTop()>200?$.fadeIn(200):$.fadeOut(200)},upBtnDecorator:function(){$.on("click",me.goTop),o(t).on("scroll",me.showScrollBtn),me.showScrollBtn()},makeElipsisText:function(e,t){e.each(function(e,n){new Dotdotdot(n,{truncate:"word",ellipsis:"...",height:t})})},toggleContacts:function(){N.hasClass("active")?N.removeClass("active"):N.addClass("active")},showContactForm:function(e){U.each(function(){var t=o(this);t.removeClass("active"),t.hasClass(e)&&t.addClass("active")})},handleContactForms:function(){q.on("click",function(){var e=o(this).data("form"),t=N.hasClass("active"),n=N.find(".form.active");!t||n.hasClass(e)?(me.toggleContacts(),me.showContactForm(e)):me.showContactForm(e)})},handleCloseContactForm:function(){s.on("click",function(e){var t=o(e.target),n=t.closest(".contacts-wrapper").length;t.hasClass("button-contact-js")||N.hasClass("active")&&!n&&N.removeClass("active")}),me.onClickCloseBtnContactsBlock()},onClickCloseBtnContactsBlock:function(){H.on("click",function(){me.toggleContacts()})},handleFavorits:function(){Z.on("click",function(){var e=o(this),t=e.data("product-id");fe.postToggleFavorites(t).then(function(t){me.toggleFavoriteButtonClass(e)}).catch(function(e){console.log("error",e)})})},toggleFavoriteButtonClass:function(e){e.toggleClass("sticker--favorits-added")},handleGuaranteeCheckboxToggle:function(){s.on("click",".product input[name=guarantee]",function(e){var t=o(this);t.closest(".prod-guarantee").find("input[name=guarantee]").not(t).prop("checked",!1)})},handleActiveDeliveryTab:function(){var e=X.closest(".radio-item").data("target"),t=o(".order-post-toggleBlocks").find("#"+e);t.find("input, select").attr("disabled",!1).trigger("chosen:updated"),t.addClass("active")},handleOrderRows:function(){J.on("click",function(e){var t=o(e.currentTarget).data("url");n.location.assign(t)})},handleOffices:function(){me.initOfficesMap(),me.handleCitySelectOnChangeInOffices(),me.handleOfficeSelectOnChangeInOffices()},initOfficesMap:function(){fe.getAllCitiesInOfficesPage().then(function(e){ge=e.data,deptsMap.initMap(),deptsMap.initCluster(deptsMap.createMarkersForCluster(ge))}).catch(function(e){console.log("err",e)})},handleOfficeSelectOnChangeInOffices:function(){ee.on("change",function(e,t){var n=o(e.target).find(":selected").data("id");if(ne.fadeIn(0),"all"===n)return deptsMap.zoom(8),void me.renderOfficesList(ge);var i=ge.filter(function(e){return e.id===n}),s=i[0],a=s.lat,r=s.lng;deptsMap.zoomToOffice({lat:a,lng:r,zoom:18}),me.renderOfficesList(i)})},handleCitySelectOnChangeInOffices:function(){K.on("change",function(e,t){var n=o(e.target).find(":selected").data("id");ne.fadeIn(0),"all"!==n?fe.getOfficesByCityId(n).then(function(e){ge=e.data,me.renderOfficesToOfficeSelect(ge),deptsMap.initMap(),deptsMap.initCluster(deptsMap.createMarkersForCluster(ge)),me.renderOfficesList(ge)}).catch(function(e){console.log("err",e)}):fe.getAllCitiesInOfficesPage().then(function(e){ge=e.data,me.renderOfficesToOfficeSelect(ge),me.renderOfficesList(ge),deptsMap.initMap(),deptsMap.initCluster(deptsMap.createMarkersForCluster(ge))}).catch(function(e){console.log("err",e)})})},renderOfficesToOfficeSelect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(ee.empty(),!e.length)return ee.append("<option>"+me.handleTranslationMessages("noOffices")+"</option>"),void ee.trigger("chosen:updated");me.appendTkhnstkOfficesToSelect(e),ee.trigger("chosen:updated")},appendTkhnstkOfficesToSelect:function(e){ee.append('<option data-id="all">'+me.handleTranslationMessages("allOffices")+"</option>"),e.map(function(e){ee.append('<option data-id="'+e.id+'">'+me.handleTranslationResponse("address_",e)+"</option>")})},handleTranslationMessages:function(e){var t=a.settings.messages;return cite.isRuLang()?t.ru[e]:t.uk[e]},handleTranslationResponse:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return cite.isRuLang()?t[e+"ru"]:n?t[e+"uk"]:t[""+e]},renderOfficesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="";e.map(function(e){var n=e.city;t+='\n\t\t\t\t\t<div class="departments-item">\n\t\t\t\t\t\t<div class="departments-item__img">\n\t\t\t\t\t\t\t<img src="'+e.image_path+'">\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="departments-item__location departments-item__wrap">\n\t\t\t\t\t\t\t<div class="departments-item__title">'+me.handleTranslationMessages("address")+'</div>\n\t\t\t\t\t\t\t<div class="departments-item__descr">\n\t\t\t\t\t\t\t\t'+me.handleTranslationResponse("title_",n)+", "+me.handleTranslationResponse("address_",e)+'\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="departments-item__time departments-item__wrap">\n\t\t\t\t\t\t\t<div class="departments-item__title">'+me.handleTranslationMessages("workTime")+'</div>\n\t\t\t\t\t\t\t<div class="departments-item__descr">'+me.handleTranslationResponse("work_time_",e)+"</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t"}),te.html(t),ne.fadeOut("slow")},handleFilters:function(e){var t=o(".products-filter, .products-filter-small"),n=o(".numbers-of-products"),i="",s="";t.each(function(e,t){i+=me.createStrByAsideFilters(t),i+=me.createStrByAscDescFilters(t)}),i+=me.addToStrSaleOrTagAlias(),e&&e.addToParams&&(i+=e.addToParams+"/"),s+=me.createParamStr(n),me.filterProducts(i,s)},showSpinnerCatalog:function(){oe.show()},showSpinnerSearch:function(){ie.show()},hideSpinnerSearch:function(){ie.hide()},saveWindowScrollYInLocalStorage:function(){var e=t.scrollY;localStorage.setItem("windowPosition",e)},handleWindowScrollY:function(){var e=localStorage.getItem("windowPosition");e&&(t.scrollTo(0,Number(e)),localStorage.removeItem("windowPosition"))},handleFiltersOnClick:function(){n.documentElement.clientWidth>990?o("body").on("click",".products-filter .checkbox-label:not(.checkbox-label--disabled), .products-filter-small, .numbers-of-products",function(){me.saveWindowScrollYInLocalStorage(),me.handleFilters(),me.showSpinnerCatalog()}):o("body").on("click",".products-filters .filters-submit, .products-filter-small, .numbers-of-products",function(){me.saveWindowScrollYInLocalStorage(),me.handleFilters(),me.showSpinnerCatalog()})},addToStrSaleOrTagAlias:function(){var e=t.getOptionsFromCurrentHref().urlFilterOptions,n="";e.length&&e.split("/").forEach(function(e){var t=e.match(/(.*)=/m);"tag"!=t[1]&&"title"!=t[1]||(n+=e)});return n},createStrByAsideFilters:function(e){var t="",n=o(e),i=n.data("alias");if(n.hasClass("products-filter--price")&&n.hasClass("changed")){var s=C.slider("values",0),a=C.slider("values",1);return t+=i+"="+s+"to"+a+"/"}var r=n.find(".checkbox-label input:checked");return r.length?(t+=""+i,r.each(function(e,n){var i=o(n).val();if(e>0)return t+="-or-"+i;i&&(t+="="),i&&(t+=i)}),t+="/"):""},createStrByAscDescFilters:function(e){var t=o(e);if(!t.hasClass("products-filter-small active"))return"";var n="",i=t.data("alias");return n+(t.hasClass("desc")?i+"=desc/":i+"=asc/")},createParamStr:function(e){var n=t.getOptionsFromCurrentHref().urlGetParams,i="",s="";if(e.each(function(e,t){o(t).hasClass("active")&&(s=o(t).data("param"))}),n.length&&!s)i=n;else if(!n.length&&s)i=s;else if(n.length&&s){var a=n.split("&");a.forEach(function(e){"per-page"==e.match(/(.*)=/m)[1]&&a.splice(a.indexOf(e),1)}),a.push(s),i=a.join("&")}return i},filterProducts:function(e,n){var i=o(".products").data("url").split("/").splice(3).join("/");n?t.location.assign("/"+i+"/"+e+"?"+n):t.location.assign("/"+i+"/"+e)},handleFilterResetBtn:function(){t.getOptionsFromCurrentHref().isPathHasOptions&&L.css("display","inline-block")},togglePasswordShow:function(){se.on("click",function(){var e=o(this).parent().find("input");"password"==e.attr("type")?e.attr("type","text"):e.attr("type","password")})},handlerVisibleSubmenu:function(){l.on("mouseover",function(){o(this).find(".submenuWrapper").css({visibility:"visible",height:"0"})}),l.on("mouseout",function(){o(this).find(".submenuWrapper").css({visibility:"hidden",height:"auto"})})},handleSubmenuHeight:function(){var e=o(le[0]),t=e.outerHeight(),n=e.offset().top+t;ce.css("height",n-14-14+2)},handleSubmenuItemsView:function(){ce.each(function(e,t){var n=o(t),i=n.offset().top+n.outerHeight(),s=n.find(".prod-list li");if(s.length){var a=s.last();if((a?a.offset().top+a.outerHeight():0)>=i){var r='\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a class="link-category" href="'+n.find(".catalog-subtitle a").attr("href")+'">\n\t\t\t\t\t\t\t\t\t\t'+me.handleTranslationMessages("allCategories")+'\n\t\t\t\t\t\t\t\t\t\t<i class="icomoon icon-arrow_long"></i>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>';s.each(function(e,t){var n=o(t);n.offset().top+n.outerHeight()>=i-30&&n.remove()}),n.find(".prod-list").append(r)}}})},handleAutocomplete:function(){o.widget("custom.searchcomplete",o.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-subtitle)")},_renderMenu:function(e,t){var n=this,i=!0;o.each(t,function(t,o){i&&o.isCategory&&(e.append("<li class='ui-autocomplete-subtitle'>\n\t\t\t\t\t\t\t\t\t"+me.handleTranslationMessages("searchByCategory")+"\n\t\t\t\t\t\t\t\t</li>"),i=!1),n._renderItemData(e,o)})},_renderItem:function(e,t){var n=o("<li></li>").data("item.route",t);return t.route?n.append("<a href='"+t.route+"'>"+t.label+"</a>"):n.append("<div>"+t.label+"</div>"),n.appendTo(e)}}),ue.searchcomplete({source:function(e,n){me.showSpinnerSearch(),fe.getAutocompleteData(e.term,me.isRuLang()).then(function(e){var t=e.data.products.map(function(e){return{label:e.title_ru,route:e.route,isCategory:!1}}),o=e.data.categories.map(function(e){return{label:e.title_ru,route:e.route,isCategory:!0}});n([].concat(_toConsumableArray(t),_toConsumableArray(o))),me.hideSpinnerSearch()}).catch(function(e){console.log(e),t.flash(e.response.data.message,"active"),me.hideSpinnerSearch()})},select:function(e,n){var o=n.item;o&&o.route&&t.location.assign(o.route)}})},handleAutocompleteInpOverlay:function(){ue.on("focus",function(e){glob.searchOverlay=o(e.target).closest(".search").find(".searchOverlay").get(0),globFunc.showOverlay("menu",glob.searchOverlay),o(".search-form").css("z-index",1e3)}),ue.on("blur",function(){globFunc.hideOverlay("menu",glob.searchOverlay),setTimeout(function(){return o(".search-form").css("z-index",0)},300)})},handleAutocompleteInpCloseBtn:function(){ue.on("input",function(e){!!e.target.value.length?de.show():(de.hide(),me.hideSpinnerSearch())}),de.on("click",function(e){o(e.target).closest(".search").find("input").val(""),de.hide(),me.hideSpinnerSearch()})},onDocLoad:function(){S.length&&me.onInputFromPrice(),k.length&&me.onInputToPrice(),C.length&&me.onPriceSliderChange(),_.length&&me.handlePriceSubmitBtn()},setHeightTitleNewsCard:function(){for(var e=o(".news-page .stock-card__descr"),t=[],n=[],i=0,s=0;s<e.length;s++){var a=e[s],r=a.getBoundingClientRect().top;0===s&&(i=r),i===r&&n.push(a),i!==r&&(t.push(n),i=r,(n=[]).push(a)),s===e.length-1&&t.push(n)}t.forEach(function(e){var t=o(e),n=0;t.each(function(){var e=parseInt(o(this).height());e>n&&(n=e)}),t.height(n)})},initActivedModalMessage:function(){var e=o(".modal-message"),t=o(".button-close"),n=o(".modal-overlay");ae.on("click",function(){o(".contacts-wrapper").removeClass("active"),e.show()}),t.on("click",function(){e.hide()}),n.on("click",function(){e.hide()})},initActivedModalCallback:function(){var e=o(".modal-callback"),t=o(".button-close"),n=o(".modal-overlay");re.on("click",function(){o(".contacts-wrapper").removeClass("active"),e.show()}),t.on("click",function(){e.hide()}),n.on("click",function(){e.hide()})},handlerActivedDropFilters:function(){if(n.documentElement.clientWidth>991)return!1;var e=o(".btn-drop-menu"),t=(e.find("span"),e.closest(".products-filters-small").find("ul.drop-filters")),i=o(".drop-filters .products-filter-small");e.on("click",function(){t.toggle(200),e.find("i.icomoon").toggleClass("rotate-icon")}),i.on("click",function(){o(this).find("span")})},f:function(){},domReady:function(e){me.setThemeOnLoadPage(),me.handleChangeTheme(),me.handlerActivedDropFilters(),t.innerWidth>=1280&&r.length&&me.setInnerSubmenusProdCategoryWidth(),M.length&&me.handleWindowScrollY(),c.length&&me.initBgSlider(),u.length&&me.initBannerSlider(),d.length&&me.initPageSectionSliders(),p.length&&me.initStockSlideSection(),h.length&&me.initBrandsSlider(),g.length&&me.initAnotherProdSlider(),w.length&&me.initAccordion(),C.length&&me.initPriceSlider(),T.length&&(me.onClickButtonShowAside(),me.onClickButtonCloseAside()),f.length&&me.initComplectsSaleSlider(),m.length&&me.initProdSliders(),A.length&&me.handleValidationForms(),F.length&&me.initTelMask(),P.length&&me.initChoosen(),E.length&&me.initColorbox(),$.length&&me.upBtnDecorator(),D.length&&(t.innerWidth>=1280?me.makeElipsisText(D,a.settings.ellpsisText):me.makeElipsisText(D,a.settings.ellpsisTextMobile)),W.length&&me.makeElipsisText(W,a.settings.ellpsisTextSmall),R.length&&me.makeElipsisText(R,a.settings.ellpsisTextMedium),N.length&&(me.handleCloseContactForm(),me.handleContactForms()),z.length&&me.handleCitySelectChange(z,fe.getNewPostDepartmentsById,Y,"Description",!1),Q.length&&me.handleCitySelectChange(Q,fe.getNewPostDepartmentsByIdInCheckout,Y,"description_uk",!1),V.length&&me.handleCitySelectChange(V,fe.getPickupDepartmentsById,G,"address_"),Z.length&&me.handleFavorits(),o(".product .prod-guarantee").length&&me.handleGuaranteeCheckboxToggle(),X.length&&me.handleActiveDeliveryTab(),J.length&&me.handleOrderRows(),K.length&&me.handleOffices(),o(".products-filter .checkbox-label, .products-filter-small")&&me.handleFiltersOnClick(),L.length&&me.handleFilterResetBtn(),_.length&&me.onClickPriceSubmitBtn(),se.length&&me.togglePasswordShow(),o(".page").length&&(me.initActivedModalMessage(),me.initActivedModalCallback()),ue.length&&(me.handleAutocomplete(),me.handleAutocompleteInpOverlay(),me.handleAutocompleteInpCloseBtn()),pe.length&&me.setHeightTitleNewsCard(),e&&e(),l.length&&t.innerWidth>=1280&&me.handlerVisibleSubmenu(),b.length&&me.initMobileSlickCategory(),le.length&&me.handleSubmenuHeight(),he.length&&(he.chosen({disable_search_threshold:8,width:"100%"}),setTimeout(function(){var e=he[0].querySelector(".selected");e&&(e.setAttribute("selected","selected"),he.trigger("chosen:updated")),he[0].parentElement.classList.add("show")},500),me.handleSortBySelectChange(he))}};return i.ready(function(){return me.domReady(me.onDocLoad)}),me}(window,document,jQuery)}),window.onload=function(){$("#page-preloader").fadeOut("slow"),$("#pickup").find("select").attr("disabled","disabled")};