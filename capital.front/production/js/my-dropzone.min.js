"use strict";$(document).ready(function(){$(function(){var e=document.getElementsByClassName("photoDropzone");if(e.length){globalVariables.myDropzone=[];for(var n=0;n<e.length;n++){var t=new Dropzone(e[n],{url:"/calculator/requests-temp-image",paramName:"img",maxFilesize:3,addRemoveLinks:!0,dictDefaultMessage:"Добавить фото",dictResponseError:"Server not Configured",acceptedFiles:".png,.jpg,.gif,.bmp,.jpeg",uploadMultiple:!0,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},init:function(){var a=this,r=[],e=$(a.element).closest(".specialPage").length;a.options.addRemoveLinks=!0,a.options.dictRemoveFile="Удалить фото";var i=null,i=e?$('<input name="files" \n                                type="hidden" \n                                data-validate="required" \n                                data-error-text="'+globalVariables.messages.isPhoto+'">'):$('<input name="files" type="hidden">');$(a.element).append(i),a.on("addedfile",function(e){}),a.on("success",function(e,n){if(0==r.length)for(var t=0;t<n.names.length;t++)r.push(n.names[t]);else for(var o=0;o<n.names.length;o++)!function(e,n){for(var t=!1,o=0;o<e.length;o++)if(e[o]===n){t=!0;break}return t}(r,n.names[o])&&r.push(n.names[o]);i[0].value=r,$(a.element).closest("form").find(".resultBlock .imgWrapper > img").attr("src",r[0])}),a.on("removedfile",function(e){}),a.on("sending",function(e,n,t){$(".meter").show()}),a.on("totaluploadprogress",function(e){$(".roller").width(e+"%")}),a.on("queuecomplete",function(e){$(".meter").delay(999).slideUp(999)}),a.on("reset",function(){r=[]})}});globalVariables.myDropzone.push(t)}}})});