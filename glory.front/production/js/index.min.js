"use strict";var glob={},globFunc={returnDOM:function(t){return t instanceof jQuery?t[0]:t},showOverlay:function(t,e,n){switch(t){case"popup":e.classList.contains("js_openPopup")||(e.style.zIndex=1150,e.style.visibility="visible",e.classList.add("js_openPopup"),e.classList.add("js_open"),n&&e.classList.add(n),document.body.classList.add("js_pageOverlayOpen"));break;case"menu":e.classList.contains("js_openMenu")||(e.style.zIndex=900,e.style.visibility="visible",e.classList.add("js_openMenu"),e.classList.add("js_open"),document.body.classList.add("js_pageOverlayOpen"))}},hideOverlay:function(t,e,n){switch(t){case"popup":e.classList.contains("js_openPopup")&&(e.classList.remove("js_openPopup"),e.classList.remove("js_open"),n&&e.classList.remove(n),document.body.classList.remove("js_pageOverlayOpen"),setTimeout(function(){e.classList.contains("js_openPopup")||(e.style.zIndex=-10,e.style.visibility="hidden")},300));break;case"menu":e.classList.contains("js_openMenu")||(e.classList.remove("js_openMenu"),e.classList.remove("js_open"),document.body.classList.remove("js_pageOverlayOpen"),setTimeout(function(){e.classList.contains("js_openMenu")||(e.style.zIndex=-10,e.style.visibility="hidden")},300))}},toggleButtonContent:function(t,e){t=this.returnDOM(t);t.classList.contains("active")?(e&&(t.firstElementChild.innerHTML=e.default),t.classList.remove("active")):(e&&(t.firstElementChild.innerHTML=e.active),t.classList.add("active"))},getCurrentYPosition:function(){return window.pageYOffset||document.documentElement.scrollTop},addClassTo:function(t,e){t=this.returnDOM(t);t.classList.contains(e)||t.classList.add(e)},removeClassFrom:function(t,e){t=this.returnDOM(t);t.classList.contains(e)&&t.classList.remove(e)},transitionHandler:function(t,e,n){t.propertyName&&console.log(t.propertyName),t.srcElement&&console.log(t.srcElement)},getChildsTotalWidth:function(t){for(var e=t.children,n=0,i=0;i<e.length;i++)n+=e[i].offsetWidth;return n},getCoordsOnPage:function(t){t=this.returnDOM(t).getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset,bottom:t.bottom+pageYOffset}},getCoordsOnScreen:function(t){t=this.returnDOM(t).getBoundingClientRect();return{top:t.top,left:t.left,bottom:t.bottom,right:t.right,width:t.width,height:t.height}},openWidth:function(t){t.style.width=getChildsTotalWidth(t)+"px"},collapseWidth:function(t){t.style.width="0"},isVisible:function(t,e){var n=void 0,n=e||"whole",i=window.pageYOffset,s=document.documentElement.clientHeight,e=t.getBoundingClientRect().top+pageYOffset,t=e+t.offsetHeight;return"whole"==n?991<document.documentElement.clientWidth?t<=i+s&&i<=e:e<=i+s/2&&i<=e:"topBorder"==n?i+12<=e&&e<=i+s:"topBorderIn"==n?e<=i+s:void 0},isVisibleOnXAxis:function(t,e){var n=t.getBoundingClientRect().left>e.getBoundingClientRect().left,e=t.getBoundingClientRect().right<e.getBoundingClientRect().right;return n&&e},isLastChild:function(t){return!t.nextElementSibling},isFirstChild:function(t){return!t.previousElementSibling}},glory=null;$(document).ready(function(){glob.ValidationModule={isValid:function(t){console.log("e",t);for(var e=(t instanceof jQuery?t[0]:t).querySelectorAll("[data-validate]"),n=0,i=0;i<e.length;i++){var s=[],o=e[i].dataset.textColor;$(e[i]).removeClass("js_containsError"),$(e[i]).next(".js_warning-list").remove();var a=[],l=!!e[i].dataset.validate&&e[i].dataset.validate.split(" ");e[i].value=e[i].value.trim(),!(a=l||null).length||(a=function(t,e){for(var n,i=e,s=[],o=0;o<i.length;o++)switch(i[o]){case"required":t.value.replace(/\s/g,"").length||s.push(t.dataset.errorText);break;case"isNumber":n=t,!isNaN(parseFloat(n.value))&&isFinite(n.value)||s.push(t.dataset.errorText);break;case"isEmail":/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(t.value)||s.push(t.dataset.errorText);break;default:console.error("invalid input data-validate value")}return s.length?s:null}(e[i],a))&&(s=a),s.length&&(function(t,e,n){t.classList.add("js_containsError");for(var i=$('<ul class="js_warning-list"></ul>'),s=0;s<e.length;s++){var o=$("<li></li>").text(e[s]);n&&o.css("color",n),i.append(o)}$(t).after(i)}(e[i],s,o),n++)}return!(0<n)}},glob.SwitchTabsModule=function(){console.log("SwitchTabsModule ok");var s=document.querySelectorAll(".tabsNav .tab"),t=document.querySelectorAll(".toggleBlock");for(var e=0;e<s.length;e++)s[e].onclick=function(){!function(t,e){var n=t.dataset.target;if(!t.classList.contains("active"))for(var i=0;i<e.length;i++)s[i].classList.remove("active"),e[i].classList.remove("active"),n===e[i].id&&(t.classList.add("active"),e[i].classList.add("active"))}(this,t)}}(),glory=function(t,e,s){s(t);var n=s(e),i=(jQuery(e.body),s(".form-addArticle")),o=i.find(".active-field-js"),a=i.find("input[type=text], textarea"),l=s(".form-contacts button, .form-login button, .form-registration button, .form-addArticle button"),r=s(".inputfile");/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(t.navigator.userAgent),/iPhone|iPad|iPod/i.test(t.navigator.userAgent);var c={initMenu:function(){var t=s(".cabinet__btn"),e=s(".cabinet-menu");t.on("click",function(){e.slideToggle(),t.toggleClass("active")})},setDisabledFields:function(t,e){t.val()?s.each(e,function(t,e){return s(e).removeAttr("disabled")}):s.each(e,function(t,e){return s(e).attr("disabled",!0)})},setTitleWhenChoseFile:function(){r.each(function(){var t=s(this),n=t.next("label"),i=n.html();t.on("change",function(t){var e="";console.log(this.files),this.files&&1<this.files.length?e=(this.getAttribute("data-multiple-caption")||"").replace("count",this.files.length):t.target.value&&(e=t.target.value.split("\\").pop()),e?n.find("span").html(e):n.html(i)}),t.on("focus",function(){t.addClass("has-focus")}).on("blur",function(){t.removeClass("has-focus")})})},handleValidation:function(){l.on("click",function(t){var e=s(t.target).closest(".form");glob.ValidationModule.isValid(e)||t.preventDefault()})},domReady:function(){c.initMenu(),i.length&&o.on("change",function(){return c.setDisabledFields(o,a)}),l.length&&c.handleValidation(),r.length&&c.setTitleWhenChoseFile()}};return n.ready(c.domReady),c}(window,document,jQuery)}),window.onload=function(){};