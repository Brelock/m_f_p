"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var glob={messages:{successTitleRu:"Ваша заявка принята!",errorTitleRu:"Произошла ошибка. Попробуйте позже.",pendingRu:"Данные отправляются",successTitleEn:"Your request is accepted!",errorTitleEn:"Error. Try later.",pendingEn:"Sending data",successTitleUk:"Ваша заявка прийнята!",errorTitleUk:"Виникла помилка. Спробуй пізніше.",pendingUk:"Дані відправляються"}},globFunc={returnDOM:function(e){return e instanceof jQuery?e[0]:e},showOverlay:function(e,t,n){switch(e){case"popup":t.classList.contains("js_openPopup")||(t.style.zIndex=1150,t.style.visibility="visible",t.classList.add("js_openPopup"),t.classList.add("js_open"),n&&t.classList.add(n),document.body.classList.add("js_pageOverlayOpen"));break;case"menu":t.classList.contains("js_openMenu")||(t.style.zIndex=900,t.style.visibility="visible",t.classList.add("js_openMenu"),t.classList.add("js_open"),document.body.classList.add("js_pageOverlayOpen"))}},hideOverlay:function(e,t,n){switch(e){case"popup":t.classList.contains("js_openPopup")&&(t.classList.remove("js_openPopup"),t.classList.remove("js_open"),n&&t.classList.remove(n),document.body.classList.remove("js_pageOverlayOpen"),setTimeout(function(){t.classList.contains("js_openPopup")||(t.style.zIndex=-10,t.style.visibility="hidden")},300));break;case"menu":t.classList.contains("js_openMenu")||(t.classList.remove("js_openMenu"),t.classList.remove("js_open"),document.body.classList.remove("js_pageOverlayOpen"),setTimeout(function(){t.classList.contains("js_openMenu")||(t.style.zIndex=-10,t.style.visibility="hidden")},300))}},toggleButtonContent:function(e,t){var n=this.returnDOM(e);n.classList.contains("active")?(t&&(n.firstElementChild.innerHTML=t.default),n.classList.remove("active")):(t&&(n.firstElementChild.innerHTML=t.active),n.classList.add("active"))},getCurrentYPosition:function(){return window.pageYOffset||document.documentElement.scrollTop},addClassTo:function(e,t){var n=this.returnDOM(e);n.classList.contains(t)||n.classList.add(t)},removeClassFrom:function(e,t){var n=this.returnDOM(e);n.classList.contains(t)&&n.classList.remove(t)},transitionHandler:function(e,t,n){e.propertyName&&console.log(e.propertyName),e.srcElement&&console.log(e.srcElement)},getChildsTotalWidth:function(e){for(var t=e.children,n=0,o=0;o<t.length;o++)n+=t[o].offsetWidth;return n},getCoordsOnPage:function(e){var t=this.returnDOM(e).getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset,bottom:t.bottom+pageYOffset}},getCoordsOnScreen:function(e){var t=this.returnDOM(e).getBoundingClientRect();return{top:t.top,left:t.left,bottom:t.bottom,right:t.right,width:t.width,height:t.height}},openWidth:function(e){e.style.width=getChildsTotalWidth(e)+"px"},collapseWidth:function(e){e.style.width="0"},isVisible:function(e,t){var n=void 0;n=t||"whole";var o=window.pageYOffset,s=document.documentElement.clientHeight,a=e.getBoundingClientRect().top+pageYOffset,i=a+e.offsetHeight;return"whole"==n?991<document.documentElement.clientWidth?i<=o+s&&o<=a:a<=o+s/2&&o<=a:"topBorder"==n?o+12<=a&&a<=o+s:"topBorderIn"==n?a<=o+s:void 0},isVisibleOnXAxis:function(e,t){var n=e.getBoundingClientRect().left>t.getBoundingClientRect().left,o=e.getBoundingClientRect().right<t.getBoundingClientRect().right;return n&&o},isLastChild:function(e){return!e.nextElementSibling},isFirstChild:function(e){return!e.previousElementSibling}},cite=null;$(document).ready(function(){glob.PopupModule=function(){var a,n=document.getElementsByClassName("popup"),i=document.getElementById("pageOverlay"),e="ontouchstart"in window?"touchstart":"click";if(n.length)for(var t=function(t){n[t].addEventListener("transitionend",function(e){e.stopPropagation(),function(e,t){var n=globFunc.returnDOM(t);"opacity"==e.propertyName&&!n.classList.contains("js_animate")&&n.classList.remove("js_open")}(e,n[t])},!1)},o=0;o<n.length;o++)t(o);function s(e){globFunc.returnDOM(e).classList.remove("js_animate")}return $("body").on(e,"#pageOverlay",function(){if(globFunc.hideOverlay("popup",this,a),n)for(var e=0;e<n.length;e++)n[e].classList.contains("js_open")&&s(n[e])}),$("body").on(e,"button.popupCloseButton",function(){s($(this).closest(".popup")),globFunc.hideOverlay("popup",i,a)}),$("body").on(e,".popup",function(e){e.target.classList.contains("popup")&&(s(e.target),globFunc.hideOverlay("popup",i,a))}),window.onkeydown=function(e){if(27===e.keyCode&&(i&&i.classList.contains("js_open")&&globFunc.hideOverlay("popup",i,a),n))for(var t=0;t<n.length;t++)n[t].classList.contains("js_open")&&s(n[t])},{openPopup:function(e,t,n){var o=n||i,s=globFunc.returnDOM(e);s.classList.add("js_open"),s.classList.add("js_animate"),t?(a=t,globFunc.showOverlay("popup",o,t)):globFunc.showOverlay("popup",o)},closePopup:s}}(),glob.ValidationModule=function(){function c(e,t){var n,o,s,a=t,i=[];for(var l=0;l<a.length;l++)switch(a[l]){case"required":e.value.replace(/\s/g,"").length||i.push(e.dataset.errorText);break;case"isNumber":s=e,(isNaN(parseFloat(s.value))||!isFinite(s.value))&&i.push(e.dataset.errorText);break;case"isEmail":/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e.value)||i.push(e.dataset.errorText);break;case"length":n=e,void 0,o=Number(n.dataset.minLength),n.value.replace(/\s/g,"").length<o&&i.push(e.dataset.errorText);break;default:console.error("invalid input data-validate value")}return i.length?i:null}function u(e,t,n){e.classList.add("js_containsError");for(var o=$('<ul class="js_warning-list"></ul>'),s=0;s<t.length;s++){var a=$("<li></li>").text(t[s]);n&&a.css("color",n),o.append(a)}$(e).after(o)}return{isValid:function(e){e instanceof jQuery&&e[0];for(var t=$("[data-validate]").not(".disabled"),n=0,o=0;o<t.length;o++){var s=[],a=t[o].dataset.textColor;$(t[o]).removeClass("js_containsError"),$(t[o]).next(".js_warning-list").remove();var i,l=!!t[o].dataset.validate&&t[o].dataset.validate.split(" ");if(t[o].value=t[o].value.trim(),(i=l||null).length){var r=c(t[o],i);r&&(s=r)}s.length&&(u(t[o],s,a),n++)}return!(0<n)}}}(),glob.SwitchTabsModule=function(){var s=document.querySelectorAll(".tabsNav .tab"),e=document.querySelectorAll(".toggleBlock");function t(e,t){var n=e.dataset.target;if(!e.classList.contains("active"))for(var o=0;o<t.length;o++)s[o].classList.remove("active"),t[o].classList.remove("active"),n===t[o].id&&(e.classList.add("active"),t[o].classList.add("active"))}for(var n=0;n<s.length;n++)s[n].onclick=function(){t(this,e)}}(),cite=function(c,u,a,e){a(c);var t=a(u),n=jQuery(u.body),p={},o="ontouchstart"in c?"touchstart":"click",s=a(".main-menu"),i=a(".main-menu__button"),l=a(".close-button"),r=(a(".main-menu__second-part-bg"),a(".banner-slider")),d=a(".worksIn-slider"),g=a(".invetors-slider"),h=a(".equipmentIn-slider"),m=a(".js_animate"),f=a(".countersList-js"),v=a(".counterContainer-js"),b=a(".form-contacts-footer, .form-contacts, .form-calculation-sheet"),y=a(".day-js"),w=a(".hour-js"),C=a(".min-js"),k=a(".sec-js"),M=a(".gallary"),T=a(".gallary-workIn"),_=a("input[type=tel]"),P=a("#map"),S=P.attr("id"),j=a(".greenTariff-js"),L=a(".scrollTopContainer"),O=(a(".news-item .grid__title"),a(".grid__text").not(".grid__descr--secondary .grid__text")),E=a(".equipment-ready .grid__text"),x=a(".js_scroll-to-bot"),I=a(".radio-with-target-js"),D=a(".toggle-form-block-gr1"),F=a(".popupContact .close-button--fill"),B=a(".open-contact-popup-js"),A=new Date;A=new Date(1900<A.getYear()?A.getYear()+1:A.getYear()+1901,0,1),p.settings={menuMaxWidth:992,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(c.navigator.userAgent),isAppleDevice:/iPhone|iPad|iPod/i.test(c.navigator.userAgent),delayRatio:2,greenInitMoney:212580440,greenTimeBegin:new Date(2019,4,27,12,17),greenTimeEnd:new Date(2030,0),newsTitleHeight:48,newsTextHeight:36,equipmentGridTextHeight:56,formContactsFooterUrl:"/callbacks",formContactsUrl:"/feedbacks",formCalculationSheetUrl:a(".form-calculation-sheet").data("url")};var N={closeMenu:function(){s.removeClass("js_show"),n.removeClass("menu-open")},toggleMenu:function(){n.hasClass("menu-open")?(s.removeClass("js_show"),n.removeClass("menu-open")):(s.addClass("js_show"),n.addClass("menu-open"))},initSlick:function(){r.slick({slidesToShow:2,mobileFirst:!0,prevArrow:'<button type="button" class="slick-prev"><i class="icomoon icon-arrow-left"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="icomoon icon-arrow-left"></i></button>',autoplay:!0,autoplaySpeed:3e3,responsive:[{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:998,settings:{slidesToShow:4}},{breakpoint:1200,settings:{slidesToShow:5}}]})},initSlickWorkIn:function(){var e;d.slick((_defineProperty(e={slidesToShow:1,mobileFirst:!0,prevArrow:'<button type="button" class="slick-prev"><i class="icomoon icon-arrow-left"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="icomoon icon-arrow-left"></i></button>',adaptiveHeight:!0,dots:!0},"mobileFirst",!0),_defineProperty(e,"responsive",[{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:1200,settings:{slidesToShow:4,dots:!1}}]),e))},initSlickInvestors:function(){g.slick({slidesToShow:1,adaptiveHeight:!0,arrows:!1,autoplay:!0,autoplaySpeed:3e3})},initSlickEquipmentIn:function(){h.slick({slidesToShow:1,adaptiveHeight:!0,arrows:!1,autoplay:!0,autoplaySpeed:3e3})},isElementInView:function(e){var t=a(e).offset().top,n=t+a(e).outerHeight(),o=a(c).scrollTop(),s=o+a(c).height();return o<n&&t<s},animateAllElements:function(){m.each(function(e,t){N.isElementInView(t)&&N.doAnimateElement(t)})},doAnimateElement:function(e){var t=a(e).offset().left,n=c.innerWidth,o=100*Math.floor(t)/n,s=1;0<o&&o<=20?s=0:20<o&&o<=40?s/=p.settings.delayRatio:40<o&&o<=60?s=1:60<o&&o<=80?s+=s/p.settings.delayRatio:80<o&&o<=100&&(s*=p.settings.delayRatio),setTimeout(function(){a(e).addClass("animated mySlideInLeft")},200*s)},formateNumber:function(e){var t=e+"";return t.replace(new RegExp("^(\\d{"+(t.length%3?t.length%3:0)+"})(\\d{3})","g"),"$1 $2").replace(/(\d{3})+?/gi,"$1 ").trim()},startCounting:function(e){e.each(function(){var t=a(this),e=t.attr("data-count");a({countNum:0}).animate({countNum:e,formatedNum:e},{duration:2e3,step:function(){var e=Math.floor(this.countNum);this.formatedNum=N.formateNumber(e),t.text(this.formatedNum)},complete:function(){var e=Math.floor(this.countNum);this.formatedNum=N.formateNumber(e),t.text(this.formatedNum)}})})},handleCounting:function(){N.isElementInView(f)&&!f.hasClass("counted-js")&&(f.addClass("counted-js"),N.startCounting(v))},handleStatisticForms:function(e){console.log("in handleStatisticForms"),e.hasClass("form-contacts")&&(console.log("handleStatistic"),gtag("event","send",{event_category:"napisatnam",event_action:"button"})),e.hasClass("form-contacts-footer")&&(console.log("handleStatistic"),gtag("event","send",{event_category:"zayavka",event_action:"button"})),e.hasClass("form-calculation-sheet")&&(console.log("handleStatistic"),gtag("event","send",{event_category:"partner",event_action:"button"}))},handleStatisticAllPhones:function(){a("a[href^=tel]").on("click",function(){console.log("handleStatisticAllPhones"),gtag("event","send",{event_category:"nomer",event_action:"button"})})},handleStatisticPhonet:function(){a("body").on("click",".teler-wd__button",function(){console.log("handleStatisticPhonet"),13==a(".teler-wd-phone-input__field ").val().length&&gtag("event","send",{event_category:"obrzvonok",event_action:"button"})})},handleSubmitForms:function(){b.on("submit",function(e){e.preventDefault();var t=a(this);if(glob.ValidationModule.isValid(t)){console.log("isValid");var n=N.prepareFormData(this);N.postData(t,n),N.handleStatisticForms(t),a("#popupContact").hasClass("js_open")&&glob.PopupModule.closePopup(u.getElementById("popupContact"))}})},prepareFormData:function(e){var t=e.querySelectorAll("input"),n=e.querySelectorAll("select"),o=e.querySelectorAll("textarea"),s={};if(t.length)for(var a=0;a<t.length;a++)t[a].value&&(s[t[a].name]=t[a].value);if(n.length)for(var i=0;i<n.length;i++)n[i].value&&"placeholder"!=n[i].value&&(s[n[i].name]=n[i].value);if(o.length)for(var l=0;l<o.length;l++)o[l].value&&(s[o[l].name]=o[l].value);return s},countdown:function(e){var t=new Date,n=(t=Math.floor((e-t)/1e3))%60;n<10&&(n="0"+n);var o=(t=Math.floor(t/60))%60;o<10&&(o="0"+o);var s=(t=Math.floor(t/60))%24;t=Math.floor(t/24),y.html(t),w.html(s),C.html(o),k.html(n)},formatIncomeMoney:function(e){var t=[].concat(_toConsumableArray(String(e).split("")));return 9==t.length?(t.splice(t.length-8,0," "),t.splice(t.length-5,0," ")):t.length<=8&&6<=t.length&&t.splice(t.length-5,0," "),t.splice(t.length-2,0,"."),t.join("")},updateIncomeMoney:function(){var e=p.settings,t=e.greenInitMoney,n=e.greenTimeBegin,o=e.greenTimeEnd,s=new Date,a=Math.floor((o-n)/1e3),i=Math.floor((o-s)/1e3),l=t/a,r=Math.floor(l*i);j.html(N.formatIncomeMoney(r))},initColorbox:function(){M.colorbox({rel:"group1",opacity:"0.9",current:"",close:"",maxWidth:"90%",maxHeight:"100%",loop:!1})},initWorkInColorbox:function(){},initPhotoSwipeFromDOM:function(e){for(var t=function(e){(e=e||c.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=function e(t,n){return t&&(n(t)?t:e(t.parentNode,n))}(e.target||e.srcElement,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(t){for(var n,o=t.parentNode,s=t.parentNode.childNodes,a=s.length,i=0,l=0;l<a;l++)if(1===s[l].nodeType){if(s[l]===t){n=i;break}i++}return 0<=n&&r(n,o),!1}},r=function(e,t,n,o){var s,a,i=u.querySelectorAll(".pswp")[0];if(a=function(e){for(var t,n,o,s,a=e.childNodes,i=a.length,l=[],r=0;r<i;r++)1===(t=a[r]).nodeType&&(o=(n=t.children[0]).getAttribute("data-size").split("x"),s={src:n.getAttribute("href"),w:parseInt(o[0],10),h:parseInt(o[1],10)},1<t.children.length&&(s.title=t.children[1].innerHTML),0<n.children.length&&(s.msrc=n.children[0].getAttribute("src")),s.el=t,l.push(s));return l}(t),s={galleryUID:t.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=a[e].el.getElementsByTagName("img")[0],n=c.pageYOffset||u.documentElement.scrollTop,o=t.getBoundingClientRect();return{x:o.left,y:o.top+n,w:o.width}}},o)if(s.galleryPIDs){for(var l=0;l<a.length;l++)if(a[l].pid==e){s.index=l;break}}else s.index=parseInt(e,10)-1;else s.index=parseInt(e,10);isNaN(s.index)||(n&&(s.showAnimationDuration=0),new PhotoSwipe(i,PhotoSwipeUI_Default,a,s).init())},n=u.querySelectorAll(e),o=0,s=n.length;o<s;o++)n[o].setAttribute("data-pswp-uid",o+1),n[o].onclick=t;var a=function(){var e=c.location.hash.substring(1),t={};if(e.length<5)return t;for(var n=e.split("&"),o=0;o<n.length;o++)if(n[o]){var s=n[o].split("=");s.length<2||(t[s[0]]=s[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();a.pid&&a.gid&&r(a.pid,n[a.gid-1],!0,!0)},initTelMask:function(){new Cleave(_,{prefix:"+380",numericOnly:!0,blocks:[4,2,3,2,2],delimiters:[" "," "," "]})},createMap:function(e,t){var n=u.getElementById(e),o=n.dataset,s={lat:Number(o.lat),lng:Number(o.lng)},a=t||15,i={url:o.imgurl,size:new google.maps.Size(56,78)},l=new google.maps.Map(n,{center:s,zoom:a});new google.maps.Marker({position:s,map:l,icon:i,backgroundColor:"rgba(0,0,0,.5)"})},initMap:function(){N.createMap(S)},getCurrentLang:function(){return a("html").attr("lang")},pastePopupMessageOnPostData:function(e){switch(N.getCurrentLang()){case"ru":e?N.openMessagePopup(glob.messages.successTitleRu):N.openMessagePopup(glob.messages.errorTitleRu);break;case"uk":e?N.openMessagePopup(glob.messages.successTitleUk):N.openMessagePopup(glob.messages.errorTitleUk);break;case"en":e?N.openMessagePopup(glob.messages.successTitleEn):N.openMessagePopup(glob.messages.errorTitleEn);break;default:e?N.openMessagePopup(glob.messages.successTitleRu):N.openMessagePopup(glob.messages.errorTitleRu)}},postDataResponseDecorator:function(e,t){N.pastePopupMessageOnPostData(t),N.resetForm(e),N.closeMessPopupWithDelay()},postData:function(t,e){var n=N.getUrl(t);a.ajax({type:"POST",url:n,data:e,headers:{"X-CSRF-TOKEN":a('meta[name="csrf-token"]').attr("content")}}).done(function(e){N.postDataResponseDecorator(t,!0)}).fail(function(e){N.postDataResponseDecorator(t,!1)}),N.openMessagePopup(glob.messages.pending)},openMessagePopup:function(e){var t=u.getElementById("popupMessage");t.querySelector(".title").innerHTML=e,glob.PopupModule.openPopup(t)},openContactPopup:function(){var e=u.getElementById("popupContact");B.on(o,function(){glob.PopupModule.openPopup(e)})},closeMessPopupWithDelay:function(){var e=u.getElementById("popupMessage"),t=u.getElementById("pageOverlay");e&&setTimeout(function(){glob.PopupModule.closePopup(e),globFunc.hideOverlay("popup",t)},2e3)},closeContactPopup:function(){var e=u.getElementById("popupContact"),t=u.getElementById("pageOverlay");F.on(o,function(){e&&(glob.PopupModule.closePopup(e),globFunc.hideOverlay("popup",t))})},resetForm:function(e){(e instanceof jQuery?e[0]:e).reset()},getUrl:function(e){return e.hasClass("form-contacts-footer")?p.settings.formContactsFooterUrl:e.hasClass("form-contacts")?p.settings.formContactsUrl:e.hasClass("form-calculation-sheet")?p.settings.formCalculationSheetUrl:void 0},goTop:function(e){a("html, body").animate({scrollTop:0},400)},scrollToBottom:function(){x.on(o,function(e){e.preventDefault(),a("html, body").animate({scrollTop:t.height()},1e3)})},showScrollBtn:function(){200<a(this).scrollTop()?L.fadeIn(600):L.fadeOut(600)},upBtnDecorator:function(){L.on("click",N.goTop),a(c).on("scroll",N.showScrollBtn),N.showScrollBtn()},makeElipsisText:function(e,n){e.each(function(e,t){new Dotdotdot(t,{ellipsis:"...",height:n})})},toggleFormBlock:function(){I.on("change",function(e){var o=a(e.target).data("target");a.each(D,function(e,t){var n=a(t);n.hasClass(o)?N.addClassesToFormBlock(n):N.removeClassesFromFormBlock(n)})})},addClassesToFormBlock:function(e){var t=e.find("[data-validate]");e.addClass("active"),t.removeClass("disabled")},removeClassesFromFormBlock:function(e){var t=e.find("[data-validate]");e.removeClass("active"),t.addClass("disabled")},domReady:function(){i.on(o,N.toggleMenu),l.on(o,N.closeMenu),r.length&&N.initSlick(),d.length&&N.initSlickWorkIn(),g.length&&N.initSlickInvestors(),h.length&&N.initSlickEquipmentIn(),f.length&&a(c).on("scroll",N.handleCounting),b.length&&N.handleSubmitForms(),y.length&&setInterval(function(){return N.countdown(A)},1e3),M.length&&N.initColorbox(),_.length&&N.initTelMask(),j.length&&setInterval(function(){return N.updateIncomeMoney()},1e3),m.length&&(a(c).on("scroll",N.animateAllElements),N.animateAllElements()),P.length&&N.initMap(),L.length&&N.upBtnDecorator(),O.length&&N.makeElipsisText(O,p.settings.newsTextHeight),E.length&&N.makeElipsisText(E,p.settings.equipmentGridTextHeight),x.length&&N.scrollToBottom(),I.length&&N.toggleFormBlock(),B.length&&N.openContactPopup(),F.length&&N.closeContactPopup(),a("a[href^=tel]").length&&N.handleStatisticAllPhones(),T.length&&N.initPhotoSwipeFromDOM(".worksIn-slider"),N.handleStatisticPhonet()}};return t.ready(N.domReady),N}(window,document,jQuery)});